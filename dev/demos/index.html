<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Demos · Tensors.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Tensors.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../man/constructing_tensors/">Constructing tensors</a></li><li><a class="tocitem" href="../man/indexing/">Indexing</a></li><li><a class="tocitem" href="../man/binary_operators/">Binary Operations</a></li><li><a class="tocitem" href="../man/other_operators/">Other operators</a></li><li><a class="tocitem" href="../man/storing_tensors/">Storing tensors</a></li><li><a class="tocitem" href="../man/automatic_differentiation/">Automatic Differentiation</a></li></ul></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li class="is-active"><a class="tocitem" href>Demos</a><ul class="internal"><li><a class="tocitem" href="#Creating-the-linear-elasticity-tensor"><span>Creating the linear elasticity tensor</span></a></li><li><a class="tocitem" href="#Nonlinear-elasticity-material"><span>Nonlinear elasticity material</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Demos</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Demos</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Ferrite-FEM/Tensors.jl/blob/master/docs/src/demos.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Demos"><a class="docs-heading-anchor" href="#Demos">Demos</a><a id="Demos-1"></a><a class="docs-heading-anchor-permalink" href="#Demos" title="Permalink"></a></h1><p>This section contain a few demos of applying <code>Tensors</code> to continuum mechanics.</p><h2 id="Creating-the-linear-elasticity-tensor"><a class="docs-heading-anchor" href="#Creating-the-linear-elasticity-tensor">Creating the linear elasticity tensor</a><a id="Creating-the-linear-elasticity-tensor-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-the-linear-elasticity-tensor" title="Permalink"></a></h2><p>The linear elasticity tensor <span>$\mathbf{C}$</span> can be defined from the Lamé parameters <span>$\lambda$</span> and <span>$\mu$</span> by the expression</p><p class="math-container">\[\mathbf{C}_{ijkl} = \lambda \delta_{ij}\delta_{kl} + \mu(\delta_{ij}\delta_{jl} + \delta_{il}\delta_{jk}),\]</p><p>where <span>$\delta_{ij} = 1$</span> if <span>$i = j$</span> otherwise <span>$0$</span>. It can also be computed in terms of the Young&#39;s modulus <span>$E$</span> and Poisson&#39;s ratio <span>$\nu$</span> by the conversion formulas <span>$\lambda = E\nu / [(1 + \nu)(1 - 2\nu)]$</span> and <span>$\mu = E / [2(1 + \nu)]$</span>.</p><p>The code below creates the elasticity tensor for given parameters <span>$E$</span> and <span>$\nu$</span> and dimension <code>dim</code>. Note the similarity between the mathematical formula and the code.</p><pre><code class="language-julia hljs">using Tensors
E = 200e9
ν = 0.3
dim = 2
λ = E*ν / ((1 + ν) * (1 - 2ν))
μ = E / (2(1 + ν))
δ(i,j) = i == j ? 1.0 : 0.0
f = (i,j,k,l) -&gt; λ*δ(i,j)*δ(k,l) + μ*(δ(i,k)*δ(j,l) + δ(i,l)*δ(j,k))

C = SymmetricTensor{4, dim}(f)</code></pre><h2 id="Nonlinear-elasticity-material"><a class="docs-heading-anchor" href="#Nonlinear-elasticity-material">Nonlinear elasticity material</a><a id="Nonlinear-elasticity-material-1"></a><a class="docs-heading-anchor-permalink" href="#Nonlinear-elasticity-material" title="Permalink"></a></h2><p>For a deformation gradient</p><p class="math-container">\[\mathbf{F} = \mathbf{I} + \nabla \otimes \mathbf{u},\]</p><p>where <span>$\mathbf{u}$</span> is the deformation from the reference to the current configuration, the right Cauchy-Green deformation tensor is defined by</p><p class="math-container">\[\mathbf{C} = \mathbf{F}^T \cdot \mathbf{F}.\]</p><p>The Second Piola Krichoff stress tensor <span>$\mathbf{S}$</span> is derived from the Helmholtz free energy <span>$\Psi$</span> by the relation</p><p class="math-container">\[\mathbf{S} = 2 \frac{\partial \Psi}{\partial \mathbf{C}}.\]</p><p>We can define potential energy of the material as</p><p class="math-container">\[\Psi(\mathbf{C}) = 1/2 \mu (\mathrm{tr}(\hat{\mathbf{C}}) - 3) + K_b(J-1)^2,\]</p><p>where <span>$\hat{\mathbf{C}} = \mathrm{det}(\mathbf{C})^{-1/3} \mathbf{C}$</span> and <span>$J = \det(\mathbf{F}) = \sqrt{\det(\mathbf{C})}$</span>, and the shear and bulk modulus are given by <span>$\mu$</span> and <span>$K_b$</span> respectively.</p><p>This free energy function can be implemented in <code>Tensors</code> as:</p><pre><code class="language-julia hljs">function Ψ(C, μ, Kb)
    detC = det(C)
    J = sqrt(detC)
    Ĉ = detC^(-1/3)*C
    return 1/2*(μ * (tr(Ĉ)- 3) + Kb*(J-1)^2)
end</code></pre><p>The analytical expression for the Second Piola Kirchoff tensor is</p><p class="math-container">\[\mathbf{S} = \mu \det(\mathbf{C})^{-1/3}(\mathbf{I} - 1/3 \mathrm{tr}(\mathbf{C})\mathbf{C}^{-1}) + K_b(J-1)J\mathbf{C}^{-1}\]</p><p>which can be implemented by the function</p><pre><code class="language-julia hljs">function S(C, μ, Kb)
    I = one(C)
    J = sqrt(det(C))
    invC = inv(C)
    return μ * det(C)^(-1/3)*(I - 1/3*tr(C)*invC) + Kb*(J-1)*J*invC
end</code></pre><h3 id="Automatic-differentiation"><a class="docs-heading-anchor" href="#Automatic-differentiation">Automatic differentiation</a><a id="Automatic-differentiation-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-differentiation" title="Permalink"></a></h3><p>For some material models it can be cumbersome to compute the analytical expression for the Second Piola Kirchoff tensor. We can then instead use Automatic Differentiation (AD). Below is an example which computes the Second Piola Kirchoff tensor using AD and compares it to the analytical answer.</p><pre><code class="language-julia-repl hljs">julia&gt; μ = 1e10;

julia&gt; Kb = 1.66e11;

julia&gt; F = one(Tensor{2,3}) + rand(Tensor{2,3});

julia&gt; C = tdot(F);

julia&gt; S_AD = 2 * gradient(C -&gt; Ψ(C, μ, Kb), C)
3×3 SymmetricTensor{2, 3, Float64, 6}:
  4.30534e11  -2.30282e11  -8.52861e10
 -2.30282e11   4.38793e11  -2.64481e11
 -8.52861e10  -2.64481e11   7.85515e11

julia&gt; S(C, μ, Kb)
3×3 SymmetricTensor{2, 3, Float64, 6}:
  4.30534e11  -2.30282e11  -8.52861e10
 -2.30282e11   4.38793e11  -2.64481e11
 -8.52861e10  -2.64481e11   7.85515e11</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../benchmarks/">« Benchmarks</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Friday 5 November 2021 14:59">Friday 5 November 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
